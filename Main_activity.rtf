{\rtf1\ansi\ansicpg1252\deff0\nouicompat\deflang1033{\fonttbl{\f0\fnil Courier New;}{\f1\fnil\fcharset0 Calibri;}}
{\colortbl ;\red0\green0\blue128;\red0\green0\blue0;\red128\green128\blue128;\red0\green0\blue255;\red0\green128\blue0;\red102\green14\blue122;\red255\green255\blue255;}
{\*\generator Riched20 6.2.9200}\viewkind4\uc1 
\pard\box\brdrdash\brdrw0 \cbpat7\sa200\sl276\slmult1\cf1\b\f0\fs18\lang9 package \cf2\b0 com.example.mahalakshmi.newapp;\line\line\cf1\b import \cf2\b0 android.content.Intent;\line\cf1\b import \cf2\b0 android.net.Uri;\line\cf1\b import \cf2\b0 android.support.v7.app.ActionBarActivity;\line\cf1\b import \cf2\b0 android.os.Bundle;\line\cf1\b import \cf2\b0 android.view.Menu;\line\cf1\b import \cf2\b0 android.view.MenuItem;\line\line\line\cf1\b import \cf2\b0 java.text.SimpleDateFormat;\line\cf1\b import \cf2\b0 java.util.Calendar;\line\cf1\b import \cf2\b0 java.util.Timer;\line\cf1\b import \cf2\b0 java.util.TimerTask;\line\line\cf1\b import \cf2\b0 android.app.Activity;\line\cf1\b import \cf2\b0 android.graphics.Color;\line\cf1\b import \cf2\b0 android.os.Bundle;\line\cf1\b import \cf2\b0 android.os.Handler;\line\cf1\b import \cf2\b0 android.view.View;\line\cf1\b import \cf2\b0 android.widget.Button;\line\cf1\b import \cf2\b0 android.widget.EditText;\line\cf1\b import \cf2\b0 android.widget.Toast;\line\line\line\cf1\b public class \cf2\b0 MainActivity \cf1\b extends \cf2\b0 ActionBarActivity \{\line\line\line     Timer timer;\line     TimerTask timerTask;\line\line     \cf3\i //we are going to use a handler to be able to run in our TimerTask\line     \cf1\b\i0 final \cf2\b0 Handler handler = \cf1\b new \cf2\b0 Handler();\line     \cf1\b private \cf2\b0 Button b1;\line     \cf1\b private int \cf2\b0 j = \cf4 0\cf2 ;\line\line     @Override\line     \cf1\b protected void \cf2\b0 onCreate(Bundle savedInstanceState) \{\line         \cf1\b super\cf2\b0 .onCreate(savedInstanceState);\line         setContentView(R.layout.activity_main);\line         b1 = (Button) findViewById(R.id.button);\line         \cf1\b final \cf2\b0 EditText et = (EditText) findViewById(R.id.editText);\line         b1.setOnClickListener(\cf1\b new \cf2\b0 View.OnClickListener() \{\line             @Override\line             \cf1\b public void \cf2\b0 onClick(View v) \{\line                 String value = \cf5\b "call"\cf2\b0 ;\line                 String val2 = \cf5\b "X"\cf2\b0 ;\line                 String val3=\cf5\b "exit"\cf2\b0 ;\line                 String val = b1.getText().toString();\line                 \cf1\b if \cf2\b0 (!((val.equals(value)) || (val.equals(val2))||(val.equals(val3))))\line                     et.setText(et.getText() + val);\line                 \cf1\b else if \cf2\b0 (val.equals(val2)) \{\line                     et.setText(\cf5\b ""\cf2\b0 );\line                 \}\line                 \cf1\b else if\cf2\b0 (val.equals(val3))\line                 \{\line                     \cf3\i //stoptimertask();\line                     \cf2\i0 finish();\line                     System.exit(\cf4 0\cf2 );\line                 \}\line                 \cf1\b else \cf2\b0\{\line                     String phnum = et.getText().toString();\line                     Intent callIntent = \cf1\b new \cf2\b0 Intent(Intent.ACTION_CALL);\line                     callIntent.setData(Uri.parse(\cf5\b "tel:" \cf2\b0 + phnum));\line                     startActivity(callIntent);\line                 \}\line             \}\line         \});\line     \}\line     @Override\line     \cf1\b protected void \cf2\b0 onResume() \{\line         \cf1\b super\cf2\b0 .onResume();\line\line         \cf3\i //onResume we start our timer so it can start when the app comes from the background\line         \cf2\i0 startTimer();\line     \}\line\line     \cf1\b public void \cf2\b0 startTimer() \{\line         \cf3\i //set a new Timer\line         \cf2\i0 timer = \cf1\b new \cf2\b0 Timer();\line         \cf3\i //initialize the TimerTask's job\line         \cf2\i0 initializeTimerTask();\line\line         \cf3\i //schedule the timer, after the first 5000ms the TimerTask will run every 10000ms\line         \cf2\i0 timer.schedule(timerTask, \cf4 5000\cf2 , \cf4 10000\cf2 ); \cf3\i //\line     \cf2\i0\}\line\line     \cf1\b public void \cf2\b0 stoptimertask() \{\line         \cf3\i //stop the timer, if it's not already null\line         \cf1\b\i0 if \cf2\b0 (timer != \cf1\b null\cf2\b0 ) \{\line             timer.cancel();\line             timer = \cf1\b null\cf2\b0 ;\line         \}\line     \}\line\line     \cf1\b public void \cf2\b0 initializeTimerTask() \{\line\line         timerTask = \cf1\b new \cf2\b0 TimerTask() \{\line             \cf1\b public void \cf2\b0 run() \{\line\line                 \cf3\i //use a handler to run a toast that shows the current timestamp\line                 \cf2\i0 handler.post(\cf1\b new \cf2\b0 Runnable() \{\line\line                     \cf1\b public void \cf2\b0 run() \{\line\line                         \cf6\b j \cf2\b0 = \cf6\b j \cf2\b0 + \cf4 1\cf2 ;\line\line                         \cf1\b if\cf2\b0 (\cf6\b j \cf2\b0 == \cf4 1\cf2 ) \{\line                             \cf6\b b1\cf2\b0 .setBackgroundColor(Color.\cf6\b\i BLACK\cf2\b0\i0 );\line                             \cf6\b b1\cf2\b0 .setText(\cf5\b "1"\cf2\b0 );\line\line                         \} \cf1\b else if\cf2\b0 (\cf6\b j \cf2\b0 == \cf4 2\cf2 ) \{\line                             \cf6\b b1\cf2\b0 .setBackgroundColor(Color.\cf6\b\i BLACK\cf2\b0\i0 );\line                             \cf6\b b1\cf2\b0 .setText(\cf5\b "2"\cf2\b0 );\line                         \}\line                         \cf1\b else if\cf2\b0 (\cf6\b j\cf2\b0 ==\cf4 3\cf2 )\line                         \{\line                             \cf6\b b1\cf2\b0 .setBackgroundColor(Color.\cf6\b\i BLACK\cf2\b0\i0 );\line                             \cf6\b b1\cf2\b0 .setText(\cf5\b "3"\cf2\b0 );\line                         \}\line                         \cf1\b else if\cf2\b0 (\cf6\b j\cf2\b0 ==\cf4 4\cf2 )\line                         \{\line                             \cf6\b b1\cf2\b0 .setBackgroundColor(Color.\cf6\b\i BLACK\cf2\b0\i0 );\line                             \cf6\b b1\cf2\b0 .setText(\cf5\b "4"\cf2\b0 );\line                         \}\line                         \cf1\b else if\cf2\b0 (\cf6\b j\cf2\b0 ==\cf4 5\cf2 )\line                         \{\line                             \cf6\b b1\cf2\b0 .setBackgroundColor(Color.\cf6\b\i BLACK\cf2\b0\i0 );\line                             \cf6\b b1\cf2\b0 .setText(\cf5\b "5"\cf2\b0 );\line                         \}\line                         \cf1\b else if\cf2\b0 (\cf6\b j\cf2\b0 ==\cf4 6\cf2 )\line                         \{\line                             \cf6\b b1\cf2\b0 .setBackgroundColor(Color.\cf6\b\i BLACK\cf2\b0\i0 );\line                             \cf6\b b1\cf2\b0 .setText(\cf5\b "6"\cf2\b0 );\line                         \}\line                         \cf1\b else if\cf2\b0 (j==\cf4 7\cf2 )\line                         \{\line                             b1.setBackgroundColor(Color.BLACK);\line                             b1.setText(\cf5\b "7"\cf2\b0 );\line                         \}\line                         \cf1\b else if\cf2\b0 (j==\cf4 8\cf2 )\line                         \{\line                             b1.setBackgroundColor(Color.BLACK);\line                             b1.setText(\cf5\b "8"\cf2\b0 );\line                         \}\line                         \cf1\b else if\cf2\b0 (j==\cf4 9\cf2 ) \{\line                             b1.setBackgroundColor(Color.BLACK);\line                             b1.setText(\cf5\b "9"\cf2\b0 );\line                         \}\line                         \cf1\b else if\cf2\b0 (j==\cf4 10\cf2 )\line                         \{\line                             b1.setBackgroundColor(Color.BLACK);\line                             b1.setText(\cf5\b "0"\cf2\b0 );\line                         \}\line                         \cf1\b else if\cf2\b0 (j==\cf4 11\cf2 )\line                         \{\line                             b1.setBackgroundColor(Color.BLACK);\line                             b1.setText(\cf5\b "call"\cf2\b0 );\line                         \}\line                         \cf1\b else if\cf2\b0 (j==\cf4 12\cf2 )\line                         \{\line                             b1.setBackgroundColor(Color.BLACK);\line                             b1.setText(\cf5\b "X"\cf2\b0 );\line                         \}\line                         \cf1\b else\line                         \cf2\b0\{\line                             b1.setBackgroundColor(Color.BLACK);\line                             b1.setText(\cf5\b "exit"\cf2\b0 );\line                             j=\cf4 0\cf2 ;\line                         \}\line                         \cf3\i // Toast toast = Toast.makeText(getApplicationContext(), String.valueOf(j), Toast.LENGTH_LONG);\line                         //toast.show();\line\line\line                     \cf2\i0\}\line                 \});\line             \}\line         \};\line     \}\line\}\line\par

\pard\sa200\sl276\slmult1\cf0\f1\fs22\par
}
 